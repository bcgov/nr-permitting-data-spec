# Pydantic Model Autogeneration

This package converts JSON Schema definition files into Pydantic Model definition files by leveraging the [`datamodel-codegen`](https://docs.pydantic.dev/latest/integrations/datamodel_code_generator/) package.

## Usage

1. Ensure Python 3 is installed on your device
2. Make the `main.sh` file executable by running `chmod u+x main.sh` from the root of this directory.
3. Return to the root of the repository and run `./tools/autogen/python_dataclasses/main.sh <path/to/schema/definition/file> <path/to/output/filename>`

## Example

Sample input schema file:

```json
{
  "title": "Person",
  "description": "Schema representation of a person.",
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "Name of the person."
    },
    "age": {
      "type": "integer",
      "minimum": 0,
      "description": "Age of the person in years."
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Email of the person."
    }
  },
  "required": ["name", "email"]
}
```

Sample output file:

```python
# generated by datamodel-codegen:
#   filename:  sample.schema.json
#   timestamp: 2024-04-15T20:21:55+00:00
 
from __future__ import annotations
 
from typing import Optional
 
from pydantic import BaseModel, EmailStr, Field, conint
 
 
class Person(BaseModel):
    name: str = Field(..., description='Name of the person.')
    age: Optional[conint(ge=0)] = Field(None, description='Age of the person in years.')
    email: EmailStr = Field(..., description='Email of the person.')
```
